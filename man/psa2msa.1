.\"
.\" $Id: psa2msa.1,v 1.2 2003/08/11 12:09:14 vflegel Exp $
.\" Copyright (c) 2003 Swiss Institute of Bioinformatics <pftools@isb-sib.ch>
.\" Process this file with
.\" groff -man -Tascii <name>
.\" for ascii output or
.\" groff -man -Tps <name>
.\" for postscript output
.\"
.TH PSA2MSA 1 "August 2003" "pftools 2.3" "pftools"
.\" ------------------------------------------------
.\" Name section
.\" ------------------------------------------------
.SH NAME
psa2msa \-  reformat PSA file to Pearson/Fasta multiple sequence alignment file 
.\" ------------------------------------------------
.\" Synopsis section
.\" ------------------------------------------------
.SH SYNOPSIS
.TP 10
.B psa2msa 
[
.B \-dhlpu
] [
.B \-M
.I insert_len
] [
.B \-W
.I width
] [
.I psa_file
|
.B \-
] [
.I parameters
]
.\" ------------------------------------------------
.\" Description section
.\" ------------------------------------------------
.SH DESCRIPTION
.B psa2msa
reformats a
.BR psa (5)
formatted profile-sequence alignment file into a
Pearson/Fasta-formatted multiple sequence alignment file.
The result is written to the standard output. 
.RI ' psa_file '
contains alignments of several sequence segments to the same profile 
in
.BR psa (5)
format. Such a file is typically generated by the programs
.BR pfsearch (1)
or
.BR pfscan (1)
using option
.BR \-x .
The output can be converted into other formats
.RI ( e.g. 
MSF) with the aid of the public domain
program
.B readseq
(available from
.IR ftp://ftp.bio.indiana.edu/molbio/readseq )
or used directly with
.BR pfmake (1)
or
.BR pfw (1). 
If
.RB ' \- '
is specified instead of a filename, the
.BR psa (5)
alignment is read from the standard input.
.\" ------------------------------------------------
.\" Options section
.\" ------------------------------------------------
.SH OPTIONS
.\" --- psa_file ---
.TP
.I psa_file
Input multiple sequence alignment.
.br
The content of the file must be in
.BR psa (5)
format.
If the filename is replaced by a
.RB ' \- ',
.B psa2msa
will read the input alignment from
.BR stdin .
.\" --- d ---
.TP
.B \-d
Replace periods
.RB ' . '
by dashes
.RB ' \- '
on output.
.\" --- h ---
.TP
.B \-h
Display usage help text.
.\" --- l ---
.TP
.B \-l
Replace upper case letters by lower case letters on output.
.\" --- p ---
.TP
.B \-p
Replace dashes
.RB ' \- '
by periods
.RB ' . '
on output.
.\" --- u ---
.TP
.B \-u
Replace lower case letters by upper case letters on output.
.\" --- M ---
.TP
.BI \-M\  insert_len
Maximal length of an insertion.
.br
If the real length of an insertion exceeds this value, the excess number 
of residues will be deleted from the center of the insertion. 
A negative value of
.RI ' insert_len '
means no upper limit for the length of an insertion
.RI ( i.e.
no residues will be deleted from an insertion).
If 
.RI ' insert_len '
is zero, all insert positions will be removed.
Setting an insertion length limit helps to keep the resulting alignment
at manageable size.
.br
Type: integer
.br 
Default: -1 
.RS
.TP
Note:
The meaning of the value
.RI ' 0 '
for this parameter has been changed compared to version 2.2 of the
.B pftools
package.
.RE
.\" --- W ---
.TP
.BI \-W\  width
Set alignment output width.
.br
The value of
.RI ' width '
specifies how many residues will be output on one line.
.br
Type: integer
.br
Default: 60
.\" ------------------------------------------------
.\" Parameters section
.\" ------------------------------------------------
.SH PARAMETERS
.TP
Note:
for backwards compatibility, release 2.3 of the
.B pftools
package will parse the version 2.2 style parameters, but these are
.I deprecated
and the corresponding option (refer to the
.I options
section) should be used instead.
.TP
M=#
Maximal insertion length
.br
Use option
.B \-M
instead.
.TP
W=#
Output width.
.br
Use option
.B \-W
instead.
.\" ------------------------------------------------
.\" Examples section
.\" ------------------------------------------------
.SH EXAMPLES
.TP
(1)
.B pfsearch
\-bx ecp.prf CVPBR322 | 
.B psa2msa
\-du |
.B readseq
\-p \-fMSF > ecp.msf
.IP
Generates a multiple sequence alignment of predicted
.I E. coli
promoters on both strands of plasmid pBR322.
The file
.RI ' ecp.prf '
contains a profile for 
.I E. coli
promoters.  
The file
.RI ' CVPBR322 '
contains
.SM EMBL
entry J01749|CVPBR322.
The result in
.RI ' ecp.msf '
can further be processed by
.SM GCG
programs accepting MSF files as input.
.\" ------------------------------------------------
.\" Exit code section
.\" ------------------------------------------------
.SH EXIT CODE
.LP
On successful completion of its task,
.B psa2msa
will return an exit code of 0. If an error occurs, a diagnostic message will be
output on standard error and the exit code will be different from 0. When conflicting
options where passed to the program but the task could nevertheless be completed, warnings
will be issued on standard error.
.\" ------------------------------------------------
.\" See also section
.\" ------------------------------------------------
.SH "SEE ALSO"
.BR pfscan (1),
.BR pfsearch (1),
.BR pfmake (1),
.BR pfw (1),
.BR psa (5),
.BR xpsa (5)
.\" ------------------------------------------------
.\" Author section
.\" ------------------------------------------------
.SH AUTHOR
The
.B pftools
package was developped by Philipp Bucher.
.br
Any comments or suggestions should be addressed to <pftools@isb-sib.ch>.
